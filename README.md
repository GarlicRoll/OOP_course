# OOP_course
Разработка системы для диспетчера автобусного парка в рамках курсового проекта по дисциплине "Объектно-ориентированное программирование"

Задание 6. Разработать ПК для диспетчера автобусного парка. В ПК
должна храниться информация о водителях, маршрутах и графике движения
автобусов. Диспетчер автобусного парка может добавлять, изменять и
удалять эту информацию. Ему могут потребоваться следующие сведения:  
1) Список водителей, их стаж работы и класс;  
2) Когда начинается или заканчивается движение автобуса на всех или
отдельных маршрутах;  
3) Справка о графике движения автобусов и отчет о его нарушениях.

- [UML-диаграмма](#title1)   
- [Диаграмма базы данных](#title2)
- [Набросок графического интерфейса](#title3)
- [Примеры отображения](#title4)
- [Краткая инструкция пользоваетля](#title5)
- [Диаграмма прецедентов](#title6)

## <a name="title1">UML-диаграмма</a>
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/ee43e334-8c60-4160-8ac7-bfa813191d00)

В работе используются три класса сущности.	 
- Класс Route представляет собой маршрут, содержащий список автобусов, работающих на этом маршруте. У маршрута есть номер, а также список нарушений.   
- Класс Bus – автобус, который управляется одним конкретным водителем. У автобуса есть номер (номер транспортного средства), время начала и окончания работы.   
- Класс Driver представляет собой водителя, который может быть прикреплён к автобусу. У водителя есть стаж, возраст, категория и имя.   

Для каждого класса есть геттеры и сеттеры   

В работе использованы три класса-контроллера для реализации связи сервера и пользовательского интерфейса    
* Класс RouteController – для маршрута   
Методы:   
	+ list – для чтения всех объектов 
	+ read  - для чтения одного объекта
	+ create – для добавления одного объекта
	+ createList – для добавления списка объектов (для случая с json)
	+ update – для обновления объекта
	+ delete – для удаления объекта
	+ addBus – добавление одного автобуса
	+ addViolation – добавление одного нарушения
	+ removeBus – удаление одного автобуса
	+ removeViolations – удаление всех нарушений

* Класс ВusController – для автобуса    
Методы:
  + list – для чтения всех объектов
  + read  - для чтения одного объекта
  + create – для добавления одного объекта
  + createList – для добавления списка объектов (для случая с json)
  + update – для обновления объекта
  + delete – для удаления объекта

* Класс DriverController – для водителя   
Методы:
  + list – для чтения всех объектов
  + read  - для чтения одного объекта
  + create – для добавления одного объекта
  + createList – для добавления списка объектов (для случая с json)
  + update – для обновления объекта
  + delete – для удаления объекта

В работе также использованы три класса-сервиса для реализации связи сервера и базы данных
* Класс RouteServiceImpl – для маршрута
Методы:
  + findAllRoutes – найти все
  + findRouteById – найти по id
  + saveRoute - сохранить
  + saveRouteList – сохранить список
  + updateRoute - обновить
  + deleteRoute - удалить
* Класс BusServiceImpl – для автобуса   
Методы:
  + findAllBuses – найти все
  + findBusById – найти по id
  + saveBus - сохранить
  + saveBusList – сохранить список
  + updateBus - обновить
  + deleteBus - удалить
* Класс DriverServiceImpl – для водителя   
Методы:
  + findAllDrivers – найти все
  + findDriverById – найти по id
  + saveDriver - сохранить
  + saveDriverList – сохранить список
  + updateDriver - обновить
  + deleteDriver - удалить


## <a name="title2">Диаграмма базы данных</a>
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/74ee0f13-b996-41b5-85c2-712ee1322df1)

В схеме представлено 5 таблиц БД:
-	Таблица buses представляет собой класс автобуса. Имеет поля (свойства) id – уникальный идентификатор, number – номер автобуса, start – время начала маршрута, end – время окончания маршрута, driver – водитель, закреплённый за определённым автобусом, связан с таблицей drivers по id.
-	Таблица drivers представляет собой класс водителя. Имеет поля (свойства) id – уникальный идентификатор, name – имя водителя, age – возраст водителя, experience – опыт водителя, category – категория прав водителя.
Таблицы buses и drivers связаны связью one-to-one.
-	Таблица routes представляет собой класс маршрута. Имеет поля (свойства) id – уникальный идентификатор, number – номер маршрута.
-	Таблица routesBuses представляет собой промежуточную таблицу. Имеет поля (свойства) id – уникальный идентификатор, busId – идентификатор автобуса, routeId – идентификатор маршрута. Таблица необходима для хранения списка автобусов для каждого маршрута. busId связан с routes по id many-to-one, routeId связан с buses по id many-to-one. Таким образом, получалась связь many-to-many. (Соответствие одного автобуса нескольким маршрутам была ограничена на уровне контролера).
-	Таблица routeViolations представляет собой промежуточную таблицу. Имеет поля (свойства) id – уникальный идентификатор, violation – текст нарушения, routeId – идентификатор маршрута. Таблица нужна для хранения списка нарушений для каждого маршрута. routeId связан с routes по id many-to-one.


## <a name="title3">Набросок графического интерфейса</a>
![frontend](https://user-images.githubusercontent.com/75137969/223299329-1a2f3ada-b880-475e-bedf-7cdaff88d6bc.png)
## <a name="title4">Пример отображения вкладки водителей</a>
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/95a67f81-5397-46c8-a310-fdfd31c37b04)
## Пример отображения вкладки автобусов
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/81cb6083-5bdc-430a-9ebd-95e2611e42e7)
## Пример отображения вкладки маршрутов
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/1e62f039-1610-44af-a725-ea89ed75caeb)

## <a name="title5">Краткая инструкция пользователя</a>

Так как пользовательский комплекс представлен в виде веб-приложения, пользователь переходит по ссылке. После перехода пользователь оказывается на главной странице. Сверху можно увидеть навигационную панель с надписями «водители», «автобусы» и «маршруты». 
При нажатии на каждую надпись пользователь будет перемещён на соответствующую страницу. На каждой странице есть таблица с данными, а также кнопка добавить, при нажатии на кнопку «добавить» (или на «редактировать» около каждой ячейки) внизу таблицы появятся окошки для ввода данных
Также на страницах присутствует вывод данных таблицы в виде .json или .pdf. Файлы выгрузятся так, как обычно выгружаются в браузере пользователя. На таблице водителей присутствует возможность добавления данных в виде .json, для этого необходимо нажать на кнопку выбора, выбрать файл, после чего нажать «загрузить в формате .json»
На странице маршрутов возможно выбрать несколько или один маршрут и просматривать только их. Для этого необходимо поставить галочки напротив нужных маршрутов и нажать кнопку «показать только выделенные» сверху таблицы. Также возможно вывести справку в виде .pdf файла только для некоторых маршрутов.

## <a name="title6">Диаграмма прецедентов</a>
![image](https://github.com/GarlicRoll/OOP_course/assets/75137969/4a969dc7-7046-4fee-ac81-59cbfb874bf9)

